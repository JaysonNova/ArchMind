ai_models:
  # 默认模型 - 必须是已启用的模型
  default: glm-4.7

  # 降级策略（按优先级排序）
  fallback:
    - glm-4.5-air
    - gpt-4o
    - claude-3.5-sonnet

  # 任务类型偏好（选择模型时的优先级）
  preferences:
    prd_generation:
      - claude-3.5-sonnet
      - gpt-4o
      - glm-4.7
    chinese_content:
      - glm-4.7
      - glm-4.5-air
      - qwen-max
      - ernie-4.0-8k
    large_document:
      - gemini-1.5-pro
      - claude-3.5-sonnet
    cost_sensitive:
      - glm-4.5-air
      - deepseek-chat
      - qwen-turbo
    privacy_mode:
      - ollama-llama3
      - ollama-qwen

  # 模型列表配置
  models:
    # 智谱 GLM 4.7 (推理最强)
    glm-4.7:
      enabled: true
      name: "GLM 4.7"
      provider: "Zhipu AI"
      description: "最新推理模型，支持思考模式，适合复杂逻辑分析和 PRD 生成"
      api_key_env: "GLM_API_KEY"
      capabilities:
        maxContextLength: 128000
        supportsStreaming: true
        supportsStructuredOutput: true
        supportsVision: false
        supportedLanguages: ["zh", "en"]
      costEstimate:
        input: "¥0.0001/token"
        output: "¥0.0001/token"
      embedding:
        supported: true
        provider: "glm"
        model: "embedding-3"
        dimensions: 2048
    # 智谱 GLM 4.6v (图像理解)
    glm-4.6v:
      enabled: true
      name: "GLM 4.6v"
      provider: "Zhipu AI"
      description: "多模态模型，支持图像理解，600万 tokens 额度"
      api_key_env: "GLM_API_KEY"
      capabilities:
        maxContextLength: 128000
        supportsStreaming: true
        supportsStructuredOutput: true
        supportsVision: true
        supportedLanguages: ["zh", "en"]
      costEstimate:
        input: "¥0.00004/token"
        output: "¥0.0001/token"
      embedding:
        supported: true
        provider: "glm"
        model: "embedding-3"
        dimensions: 2048

    # 智谱 GLM 4.5 Air (经济版)
    glm-4.5-air:
      enabled: true
      name: "GLM 4.5 Air"
      provider: "Zhipu AI"
      description: "经济版模型，最低成本，适合快速原型和成本敏感场景，1200万 tokens 额度"
      api_key_env: "GLM_API_KEY"
      capabilities:
        maxContextLength: 128000
        supportsStreaming: true
        supportsStructuredOutput: true
        supportsVision: false
        supportedLanguages: ["zh", "en"]
      costEstimate:
        input: "¥0.00002/token"
        output: "¥0.00006/token"
      embedding:
        supported: true
        provider: "glm"
        model: "embedding-3"
        dimensions: 2048

    # ── Anthropic Claude 系列（通过中转站全部可用）──

    # Haiku 系列
    claude-3-5-haiku-20241022:
      enabled: true
      name: "Claude 3.5 Haiku"
      provider: "Anthropic"
      description: "轻量快速，适合简单任务和高频调用"
      api_key_env: "ANTHROPIC_API_KEY"
      capabilities:
        maxContextLength: 200000
        supportsStreaming: true
        supportsStructuredOutput: true
        supportsVision: true
        supportedLanguages: ["zh", "en", "ja", "es", "fr", "de"]
      costEstimate:
        input: "¥0.001/1K tokens"
        output: "¥0.005/1K tokens"
      embedding:
        supported: false

    claude-haiku-4-5:
      enabled: true
      name: "Claude Haiku 4.5"
      provider: "Anthropic"
      description: "新一代轻量模型，性能大幅提升"
      api_key_env: "ANTHROPIC_API_KEY"
      capabilities:
        maxContextLength: 200000
        supportsStreaming: true
        supportsStructuredOutput: true
        supportsVision: true
        supportedLanguages: ["zh", "en", "ja", "es", "fr", "de"]
      costEstimate:
        input: "¥0.001/1K tokens"
        output: "¥0.005/1K tokens"
      embedding:
        supported: false

    claude-haiku-4-5-20251001:
      enabled: true
      name: "Claude Haiku 4.5 (20251001)"
      provider: "Anthropic"
      description: "Haiku 4.5 固定版本"
      api_key_env: "ANTHROPIC_API_KEY"
      capabilities:
        maxContextLength: 200000
        supportsStreaming: true
        supportsStructuredOutput: true
        supportsVision: true
        supportedLanguages: ["zh", "en", "ja", "es", "fr", "de"]
      costEstimate:
        input: "¥0.001/1K tokens"
        output: "¥0.005/1K tokens"
      embedding:
        supported: false

    # Sonnet 系列
    claude-sonnet-4-20250514:
      enabled: true
      name: "Claude Sonnet 4"
      provider: "Anthropic"
      description: "均衡性能，适合大多数任务场景"
      api_key_env: "ANTHROPIC_API_KEY"
      capabilities:
        maxContextLength: 200000
        supportsStreaming: true
        supportsStructuredOutput: true
        supportsVision: true
        supportedLanguages: ["zh", "en", "ja", "es", "fr", "de"]
      costEstimate:
        input: "¥0.003/1K tokens"
        output: "¥0.015/1K tokens"
      embedding:
        supported: false

    claude-sonnet-4:
      enabled: true
      name: "Claude Sonnet 4 (alias)"
      provider: "Anthropic"
      description: "Sonnet 4 别名，自动指向最新版本"
      api_key_env: "ANTHROPIC_API_KEY"
      capabilities:
        maxContextLength: 200000
        supportsStreaming: true
        supportsStructuredOutput: true
        supportsVision: true
        supportedLanguages: ["zh", "en", "ja", "es", "fr", "de"]
      costEstimate:
        input: "¥0.003/1K tokens"
        output: "¥0.015/1K tokens"
      embedding:
        supported: false

    claude-sonnet-4-5-20250929:
      enabled: true
      name: "Claude Sonnet 4.5 (20250929)"
      provider: "Anthropic"
      description: "Sonnet 4.5 固定版本"
      api_key_env: "ANTHROPIC_API_KEY"
      capabilities:
        maxContextLength: 200000
        supportsStreaming: true
        supportsStructuredOutput: true
        supportsVision: true
        supportedLanguages: ["zh", "en", "ja", "es", "fr", "de"]
      costEstimate:
        input: "¥0.003/1K tokens"
        output: "¥0.015/1K tokens"
      embedding:
        supported: false

    claude-sonnet-4-5:
      enabled: true
      name: "Claude Sonnet 4.5"
      provider: "Anthropic"
      description: "最新 Sonnet，推理和创意能力大幅增强"
      api_key_env: "ANTHROPIC_API_KEY"
      capabilities:
        maxContextLength: 200000
        supportsStreaming: true
        supportsStructuredOutput: true
        supportsVision: true
        supportedLanguages: ["zh", "en", "ja", "es", "fr", "de"]
      costEstimate:
        input: "¥0.003/1K tokens"
        output: "¥0.015/1K tokens"
      embedding:
        supported: false

    claude-sonnet-4.5:
      enabled: true
      name: "Claude Sonnet 4.5 (dot alias)"
      provider: "Anthropic"
      description: "Sonnet 4.5 点号别名"
      api_key_env: "ANTHROPIC_API_KEY"
      capabilities:
        maxContextLength: 200000
        supportsStreaming: true
        supportsStructuredOutput: true
        supportsVision: true
        supportedLanguages: ["zh", "en", "ja", "es", "fr", "de"]
      costEstimate:
        input: "¥0.003/1K tokens"
        output: "¥0.015/1K tokens"
      embedding:
        supported: false

    claude-sonnet-4-6:
      enabled: true
      name: "Claude Sonnet 4.6"
      provider: "Anthropic"
      description: "最新迭代 Sonnet，速度最快，性价比极高"
      api_key_env: "ANTHROPIC_API_KEY"
      capabilities:
        maxContextLength: 200000
        supportsStreaming: true
        supportsStructuredOutput: true
        supportsVision: true
        supportedLanguages: ["zh", "en", "ja", "es", "fr", "de"]
      costEstimate:
        input: "¥0.003/1K tokens"
        output: "¥0.015/1K tokens"
      embedding:
        supported: false

    # Opus 系列
    claude-opus-4-5-20251101:
      enabled: true
      name: "Claude Opus 4.5 (20251101)"
      provider: "Anthropic"
      description: "Opus 4.5 固定版本"
      api_key_env: "ANTHROPIC_API_KEY"
      capabilities:
        maxContextLength: 200000
        supportsStreaming: true
        supportsStructuredOutput: true
        supportsVision: true
        supportedLanguages: ["zh", "en", "ja", "es", "fr", "de"]
      costEstimate:
        input: "¥0.015/1K tokens"
        output: "¥0.075/1K tokens"
      embedding:
        supported: false

    claude-opus-4-5:
      enabled: true
      name: "Claude Opus 4.5"
      provider: "Anthropic"
      description: "旗舰级推理能力，适合复杂分析和高质量内容生成"
      api_key_env: "ANTHROPIC_API_KEY"
      capabilities:
        maxContextLength: 200000
        supportsStreaming: true
        supportsStructuredOutput: true
        supportsVision: true
        supportedLanguages: ["zh", "en", "ja", "es", "fr", "de"]
      costEstimate:
        input: "¥0.015/1K tokens"
        output: "¥0.075/1K tokens"
      embedding:
        supported: false

    claude-opus-4.5:
      enabled: true
      name: "Claude Opus 4.5 (dot alias)"
      provider: "Anthropic"
      description: "Opus 4.5 点号别名"
      api_key_env: "ANTHROPIC_API_KEY"
      capabilities:
        maxContextLength: 200000
        supportsStreaming: true
        supportsStructuredOutput: true
        supportsVision: true
        supportedLanguages: ["zh", "en", "ja", "es", "fr", "de"]
      costEstimate:
        input: "¥0.015/1K tokens"
        output: "¥0.075/1K tokens"
      embedding:
        supported: false

    claude-opus-4-6:
      enabled: true
      name: "Claude Opus 4.6"
      provider: "Anthropic"
      description: "最新旗舰模型，顶级推理和代码能力"
      api_key_env: "ANTHROPIC_API_KEY"
      capabilities:
        maxContextLength: 200000
        supportsStreaming: true
        supportsStructuredOutput: true
        supportsVision: true
        supportedLanguages: ["zh", "en", "ja", "es", "fr", "de"]
      costEstimate:
        input: "¥0.015/1K tokens"
        output: "¥0.075/1K tokens"
      embedding:
        supported: false

    claude-opus-4-6-thinking:
      enabled: true
      name: "Claude Opus 4.6 Thinking"
      provider: "Anthropic"
      description: "带扩展思考的旗舰模型，适合最复杂的推理任务"
      api_key_env: "ANTHROPIC_API_KEY"
      capabilities:
        maxContextLength: 200000
        supportsStreaming: true
        supportsStructuredOutput: true
        supportsVision: true
        supportedLanguages: ["zh", "en", "ja", "es", "fr", "de"]
      costEstimate:
        input: "¥0.015/1K tokens"
        output: "¥0.075/1K tokens"
      embedding:
        supported: false

    # OpenAI GPT-4o
    gpt-4o:
      enabled: false
      name: "GPT-4o"
      provider: "OpenAI"
      description: "多模态 AI，图片理解能力强，适合需要图像分析的任务"
      api_key_env: "OPENAI_API_KEY"
      capabilities:
        maxContextLength: 128000
        supportsStreaming: true
        supportsStructuredOutput: true
        supportsVision: true
        supportedLanguages: ["zh", "en", "ja", "es", "fr", "de"]
      costEstimate:
        input: "¥0.005/1K tokens"
        output: "¥0.015/1K tokens"
      embedding:
        supported: true
        provider: "openai"
        model: "text-embedding-3-small"
        dimensions: 1536

    # Google Gemini 1.5 Pro
    gemini-1.5-pro:
      enabled: false
      name: "Gemini 1.5 Pro"
      provider: "Google"
      description: "超大上下文窗口 (100K+)，适合处理大型文档"
      api_key_env: "GOOGLE_API_KEY"
      capabilities:
        maxContextLength: 1000000
        supportsStreaming: true
        supportsStructuredOutput: true
        supportsVision: true
        supportedLanguages: ["zh", "en", "ja", "es", "fr", "de"]
      costEstimate:
        input: "¥0.0013/1K tokens (first 128k)"
        output: "¥0.0053/1K tokens"
      embedding:
        supported: false

    # 阿里云通义千问
    qwen-max:
      enabled: false
      name: "通义千问 Qwen Max"
      provider: "Alibaba"
      description: "旗舰模型，中文理解能力最强，适合复杂中文内容生成"
      api_key_env: "DASHSCOPE_API_KEY"
      capabilities:
        maxContextLength: 32000
        supportsStreaming: true
        supportsStructuredOutput: true
        supportsVision: true
        supportedLanguages: ["zh", "en"]
      costEstimate:
        input: "¥0.02/1K tokens"
        output: "¥0.06/1K tokens"
      embedding:
        supported: false

    qwen-plus:
      enabled: false
      name: "通义千问 Qwen Plus"
      provider: "Alibaba"
      description: "性能均衡模型，兼顾效果与成本"
      api_key_env: "DASHSCOPE_API_KEY"
      capabilities:
        maxContextLength: 131072
        supportsStreaming: true
        supportsStructuredOutput: true
        supportsVision: false
        supportedLanguages: ["zh", "en"]
      costEstimate:
        input: "¥0.004/1K tokens"
        output: "¥0.012/1K tokens"
      embedding:
        supported: false

    qwen-turbo:
      enabled: false
      name: "通义千问 Qwen Turbo"
      provider: "Alibaba"
      description: "快速响应模型，最低成本，适合简单任务"
      api_key_env: "DASHSCOPE_API_KEY"
      capabilities:
        maxContextLength: 131072
        supportsStreaming: true
        supportsStructuredOutput: true
        supportsVision: false
        supportedLanguages: ["zh", "en"]
      costEstimate:
        input: "¥0.002/1K tokens"
        output: "¥0.006/1K tokens"
      embedding:
        supported: false

    # 百度文心一言
    ernie-4.0-8k:
      enabled: false
      name: "文心一言 ERNIE 4.0"
      provider: "Baidu"
      description: "百度旗舰大模型，中文理解深度最强"
      api_key_env: "BAIDU_API_KEY"
      capabilities:
        maxContextLength: 8192
        supportsStreaming: true
        supportsStructuredOutput: false
        supportsVision: false
        supportedLanguages: ["zh", "en"]
      costEstimate:
        input: "¥0.03/1K tokens"
        output: "¥0.09/1K tokens"
      embedding:
        supported: false

    ernie-3.5-8k:
      enabled: false
      name: "文心一言 ERNIE 3.5"
      provider: "Baidu"
      description: "百度经济版模型，性价比高"
      api_key_env: "BAIDU_API_KEY"
      capabilities:
        maxContextLength: 8192
        supportsStreaming: true
        supportsStructuredOutput: false
        supportsVision: false
        supportedLanguages: ["zh", "en"]
      costEstimate:
        input: "¥0.008/1K tokens"
        output: "¥0.008/1K tokens"
      embedding:
        supported: false

    # DeepSeek
    deepseek-chat:
      enabled: false
      name: "DeepSeek Chat"
      provider: "DeepSeek"
      description: "高性价比通用对话模型，代码能力强"
      api_key_env: "DEEPSEEK_API_KEY"
      capabilities:
        maxContextLength: 128000
        supportsStreaming: true
        supportsStructuredOutput: true
        supportsVision: false
        supportedLanguages: ["zh", "en"]
      costEstimate:
        input: "¥0.001/1K tokens"
        output: "¥0.002/1K tokens"
      embedding:
        supported: false

    deepseek-reasoner:
      enabled: false
      name: "DeepSeek Reasoner"
      provider: "DeepSeek"
      description: "深度推理模型，适合复杂逻辑分析"
      api_key_env: "DEEPSEEK_API_KEY"
      capabilities:
        maxContextLength: 128000
        supportsStreaming: true
        supportsStructuredOutput: true
        supportsVision: false
        supportedLanguages: ["zh", "en"]
      costEstimate:
        input: "¥0.004/1K tokens"
        output: "¥0.016/1K tokens"
      embedding:
        supported: false

    # Ollama 本地模型
    ollama-llama3:
      enabled: false
      name: "Llama 3 (本地)"
      provider: "Meta (via Ollama)"
      description: "完全本地运行，无隐私风险"
      api_key_env: "OLLAMA_BASE_URL"
      capabilities:
        maxContextLength: 8192
        supportsStreaming: true
        supportsStructuredOutput: false
        supportsVision: false
        supportedLanguages: ["en"]
      costEstimate:
        input: "本地免费"
        output: "本地免费"
      embedding:
        supported: false

    ollama-qwen:
      enabled: false
      name: "通义千问 (本地)"
      provider: "Alibaba (via Ollama)"
      description: "本地运行的中文模型"
      api_key_env: "OLLAMA_BASE_URL"
      capabilities:
        maxContextLength: 32000
        supportsStreaming: true
        supportsStructuredOutput: false
        supportsVision: false
        supportedLanguages: ["zh", "en"]
      costEstimate:
        input: "本地免费"
        output: "本地免费"
      embedding:
        supported: false

